<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="telephone=no,email=no" name="format-detection">
    <meta content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
    <!-- 这两个js文件必须先加载 -->
    <script src="../../js/flexible.debug.js"></script>
    <script src="../../js/flexible_css.debug.js"></script>
    <title>购物车</title>
    <link rel="stylesheet" href="../../css/Arthas_Rest.css">
    <link rel="stylesheet" href="../../css/h5_style.css">
</head>
<body>
<header class="head-wrap">
    <a href="goods_details.html" class="back"></a>
    <h1>购物车</h1>
</header>
<section class="body-wrap cart-body-wrap">
    <!--
        注意：
            产品图为正方形最小尺寸为200*200；可以和列表页面的产品图相同
     -->
    <ul class="cart-full">
        <li class="cart-list cl">
            <div class="cart-check"><input type="checkbox"></div>
            <div class="cart-img"><img src="../../images/h5/goods_img01@237x237.png" alt=""></div>
            <div class="cart-con">
                <h2><i>会员价</i>云南白药气雾剂喷雾剂消肿化淤跌打扭伤止痛云南白药气雾剂喷雾剂消肿化淤跌打扭伤止痛云南白药气雾剂喷雾剂</h2>
                <p class="cart-con-price">¥388881</p>
                <div class="cart-con-edit">
                    <label for=""><input type="text" name="cart_list_check" value="555">件</label>
                </div>
                <i class="cart-con-delete"></i>
            </div>
        </li>
    </ul>
    <div class="cart-empty">
        <div class="cart-emp-bg"></div>
        <p>购物车空空如也</p>
        <span>赶紧去选购产品吧</span>
        <a href="mall.html" class="bg-primary">马上选购</a>
    </div>
</section>
<!-- 脚部高度111px -->
<footer class="cart-footer-wrap cl">
    <div class="cart-check-all">
        <div class="cart-check-btn"></div>
        <p>全选</p>
    </div>
    <div class="cart-footer-price">
        <h6>总计：¥<span>30293232.00</span>元</h6>
        <p>注：订购成功后，将获得相应优惠活动</p>
    </div>
    <div class="cart-footer-btn">
        <button>下订单</button>
    </div>
</footer>
<script src="../../js/jquery-1.11.3.min.js"></script>
<script>

    //点击全选选择所有
    $(".cart-check-btn").click(function () {
        if ($(this).hasClass("active")) {
            $(this).removeClass("active");
            $(".cart-check :checkbox").prop("checked", false).attr("checked", false);
        } else {
            $(this).addClass("active");
            $(".cart-check :checkbox").prop("checked", true).attr("checked", true);
        }
    });
    //未全部选择，修改全选样式
    $(".cart-check :checkbox").click(function () {
        var check_box_num = $(".cart-check :checkbox").size();//选项总个数
        var checked_num = 0;
        $(".cart-check :checkbox").each(function () {
            if ($(this).prop("checked") == true) {
                checked_num++;
            }
        });
        if (check_box_num == checked_num) {//全选
            $(".cart-check-btn").addClass("active");
        } else {//不全选
            $(".cart-check-btn").removeClass("active");
        }
    });
    //单机删除按钮的 的时候移除本段
    $(".cart-con-delete").click(function () {
        $(this).parents(".cart-list").remove();
        var NUM = $(".cart-full").find(".cart-list").length;
        if (NUM == 0) {
            $(".cart-full").hide();
            $(".cart-footer-wrap").hide();
            $(".cart-empty").show();
        }

    });
    //判断购物车是否为空，显示不同页面
    $(function () {
        var NUM = $(".cart-full").find(".cart-list").length;
        if (NUM > 0) {
            $(".cart-empty").hide();
            $(".cart-full").show();
            $(".cart-footer-wrap").show();
        } else if (NUM == 0) {
            $(".cart-full").hide();
            $(".cart-footer-wrap").hide();
            $(".cart-empty").show();
        }
    })
</script>
</body>
</html>
