webpackJsonp([1],{"+skl":function(t,e){},0:function(t,e){},1:function(t,e){},"3P1i":function(t,e){},G4tw:function(t,e){},L2wx:function(t,e){},LA1E:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=o("VU/8")({name:"App"},i,!1,function(t){o("3P1i")},null,null).exports,s=o("/ocq"),r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header"}},[e("img",{attrs:{src:o("YuFs"),alt:""}})])}]};var l=o("VU/8")({name:"Header"},r,!1,function(t){o("O3Wu")},"data-v-5d9ac383",null).exports,c=o("Dd8w"),d=o.n(c),u=(o("5hVS"),"https://wd9865540021aefjgl.wilddogio.com"),m=o("NYxO"),v={name:"OrderEdit",props:["arthas"],data:function(){return{dates:[{title:"",content:[{time:"",meeting:"",isTitle:!1,isUnderLine:!1}]}],colors:{dateBgColor:"#008fd3",dateColor:"#ffffff",timeColor:"#ffffff",meetColor:"#ffffff",contentBgColor:"#001c3c",lineColor:"#008fd3"},templateName:"",bigIndex:0,timeIndex:0,delBigIndex:0,isShowSaveAs:!1,saveAsName:"",list:[]}},watch:{arthas:function(t,e){this.dates=t.dates,this.colors=t.colors}},created:function(){var t=this;this.dates=this.arthas,this.templateName=this.$route.params.templateName;var e={syncURL:u+"/list"};wilddog.initializeApp(e);var o=wilddog.sync().ref();o.on("value",function(e){e.val()&&(t.list=e.val(),o.off())})},computed:d()({},Object(m.b)(["getList"])),methods:{jumpIndex:function(){this.$router.push("/")},addTime:function(){this.dates[this.bigIndex].content.splice(this.timeIndex+1,0,{times:"",meeting:"",isTitle:!1,isUnderLine:!1})},addDate:function(){this.dates.splice(this.bigIndex+1,0,{title:"",content:[{times:"",meeting:"",isTitle:!1,isUnderLine:!1}]})},delDate:function(t){1!=this.dates.length&&this.dates.splice(t,1)},delTime:function(t,e){1!=this.dates[t].content.length&&this.dates[t].content.splice(e,1)},setMainTitle:function(){var t=this.dates[this.bigIndex].content[this.timeIndex].isTitle;this.dates[this.bigIndex].content[this.timeIndex].isTitle=!t},addUnderLine:function(){var t=this.dates[this.bigIndex].content[this.timeIndex].isUnderLine;this.dates[this.bigIndex].content[this.timeIndex].isUnderLine=!t},saveData:function(t,e){var o=this,n={syncURL:u};wilddog.initializeApp(n);var i=wilddog.sync().ref(t+"/dates"),a=wilddog.sync().ref(t+"/colors");i.set(this.dates),a.set(this.colors),e?this.$Modal.confirm({title:"Title",content:"<p>保存成功!是否跳转到保存的页面？</p>",okText:"OK",cancelText:"Cancel",onOk:function(){o.$router.push({path:"/home/"+t})}}):this.$Modal.success({title:"提示",content:"保存成功！"})},saveAs:function(){this.isShowSaveAs=!0},saveAsOk:function(){if(""!=this.saveAsName){var t=Math.random().toString(36).substr(2),e={};e[t]=this.saveAsName,this.list.push(e),this.saveData(t,!0);var o={syncURL:u};wilddog.initializeApp(o);var n=wilddog.sync().ref();n.child("list").set(this.list),n.off()}else this.$Message.info("模板名称不能为空")}}},f={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"order-edit"}},[o("div",{staticClass:"btn"},[o("button",{on:{click:function(e){t.jumpIndex()}}},[t._v("首页")]),t._v(" "),o("button",{on:{click:function(e){t.setMainTitle()}}},[t._v("设为标题")]),t._v(" "),o("button",{on:{click:function(e){t.addUnderLine()}}},[t._v("加下划线")]),t._v(" "),o("button",{on:{click:function(e){t.addDate()}}},[t._v("添加日期")]),t._v(" "),o("button",{on:{click:function(e){t.addTime()}}},[t._v("添加时间")]),t._v(" "),o("button",{on:{click:function(e){t.saveData(t.templateName)}}},[t._v("保存")]),t._v(" "),o("button",{on:{click:function(e){t.saveAs()}}},[t._v("另存为")])]),t._v(" "),o("div",{staticClass:"pick-color"},[o("ul",[o("li",[t._v("日期背景选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.dateBgColor,callback:function(e){t.$set(t.colors,"dateBgColor",e)},expression:"colors.dateBgColor"}})],1),t._v(" "),o("li",[t._v("日期颜色选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.dateColor,callback:function(e){t.$set(t.colors,"dateColor",e)},expression:"colors.dateColor"}})],1),t._v(" "),o("li",[t._v("时间颜色选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.timeColor,callback:function(e){t.$set(t.colors,"timeColor",e)},expression:"colors.timeColor"}})],1),t._v(" "),o("li",[t._v("会议颜色选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.meetColor,callback:function(e){t.$set(t.colors,"meetColor",e)},expression:"colors.meetColor"}})],1),t._v(" "),o("li",[t._v("内容颜色选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.contentBgColor,callback:function(e){t.$set(t.colors,"contentBgColor",e)},expression:"colors.contentBgColor"}})],1),t._v(" "),o("li",[t._v("割线颜色选择：\n        "),o("ColorPicker",{attrs:{alpha:"",recommend:""},model:{value:t.colors.lineColor,callback:function(e){t.$set(t.colors,"lineColor",e)},expression:"colors.lineColor"}})],1)])]),t._v(" "),t._l(t.dates,function(e,n){return o("div",{on:{click:function(e){t.bigIndex=n}}},[o("h2",{style:{backgroundColor:t.colors.dateBgColor}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"val.title"}],style:{color:t.colors.dateColor},attrs:{type:"text",placeholder:"输入日期"},domProps:{value:e.title},on:{input:function(o){o.target.composing||t.$set(e,"title",o.target.value)}}}),t._v(" "),o("i",{staticClass:"del",on:{click:function(e){t.delDate(n)}}})]),t._v(" "),o("div",{staticClass:"time-wrap",style:{backgroundColor:t.colors.contentBgColor}},t._l(e.content,function(e,i){return o("div",{staticClass:"time-content",class:[{title:e.isTitle},{underline:e.isUnderLine}],style:{borderBottomColor:t.colors.lineColor},on:{click:function(e){t.timeIndex=i}}},[o("span",[o("i",{staticClass:"del-time",on:{click:function(e){t.delTime(n,i)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"con.time"}],style:{color:t.colors.timeColor},attrs:{type:"text",placeholder:"输入时间"},domProps:{value:e.time},on:{input:function(o){o.target.composing||t.$set(e,"time",o.target.value)}}})]),t._v(" "),o("p",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.meeting,expression:"con.meeting"}],style:{color:t.colors.meetColor},attrs:{type:"text",placeholder:"输入议程"},domProps:{value:e.meeting},on:{input:function(o){o.target.composing||t.$set(e,"meeting",o.target.value)}}})])])}))])}),t._v(" "),o("Modal",{attrs:{width:"400",closable:!1,"mask-closable":!1},on:{"on-ok":t.saveAsOk},model:{value:t.isShowSaveAs,callback:function(e){t.isShowSaveAs=e},expression:"isShowSaveAs"}},[o("div",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("span",[t._v("请输入模板名称")])]),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入模板名称..."},model:{value:t.saveAsName,callback:function(e){t.saveAsName=e},expression:"saveAsName"}})],1)])],2)},staticRenderFns:[]};var h=o("VU/8")(v,f,!1,function(t){o("S26Y")},"data-v-3e8e262f",null).exports,p={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"order-edit"}},t._l(t.dates,function(e,n){return o("div",[o("h2",{style:{backgroundColor:t.colors.dateBgColor,color:t.colors.dateColor}},[t._v(t._s(e.title)+" ")]),t._v(" "),o("div",{staticClass:"time-wrap",style:{backgroundColor:t.colors.contentBgColor}},t._l(e.content,function(e,n){return o("div",{staticClass:"time-content",class:[{title:e.isTitle},{underline:e.isUnderLine}],style:{borderBottomColor:t.colors.lineColor}},[o("div",{style:{color:t.colors.timeColor}},[t._v(t._s(e.time))]),t._v(" "),o("p",{style:{color:t.colors.meetColor}},[t._v(t._s(e.meeting))])])}))])}))},staticRenderFns:[]};var g=o("VU/8")({name:"OrderEdit",props:["arthas"],data:function(){return{dates:[],colors:[]}},watch:{arthas:function(t,e){this.dates=t.dates,this.colors=t.colors}},created:function(){this.dates=this.arthas}},p,!1,function(t){o("L2wx")},"data-v-2583382f",null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"footer"}},[e("p",[this._v("（论坛内容以当天安排为准，本次活动最终解释权归组委会）")])])}]};var _=o("VU/8")({name:"Footer"},w,!1,function(t){o("G4tw")},"data-v-add687f0",null).exports,C=o("2Pnh"),x=o.n(C),b=o("wyIk"),y=o.n(b),k={name:"Home",data:function(){return{dates:[{title:"",content:[{time:"",meeting:"",isTitle:!1,isUnderLine:!1}]}],colors:{dateBgColor:"#008fd3",dateColor:"#ffffff",timeColor:"#ffffff",meetColor:"#ffffff",contentBgColor:"#001c3c",lineColor:"#008fd3"},isShow:!1,templateName:""}},created:function(){this.templateName=this.$route.params.templateName},mounted:function(){var t=this,e={syncURL:u};wilddog.initializeApp(e),wilddog.sync().ref().on("value",function(e){var o=e.val()[t.templateName];if(o){var n=o.dates,i=o.colors;t.dates=n,t.colors=i}else{var a=wilddog.sync().ref(""+t.templateName),s={};s.dates=t.dates,s.colors=t.colors,a.set(s)}})},components:{Top:l,OrderEdit:h,OrderView:g,Under:_},methods:{saveImg:function(){this.isShow=!0;var t=document.getElementById("view").offsetHeight,e=document.getElementById("view").offsetWidth,o=document.querySelector(".edit").offsetHeight,n=document.getElementById("pop"),i=document.createElement("canvas");i.width=2*e,i.height=2*t,i.getContext("2d").scale(2,2);var a={scale:2,canvas:i,logging:!0,width:e,height:t};n.style.height=t>o?t+"px":o+"px",x()(document.getElementById("view"),a).then(function(t){t.getContext("2d").imageSmoothingEnabled=!1;var o=y.a.convertToImage(t,t.width,t.height,"jpeg");n.appendChild(o),o.style.margin="0 auto",o.style.width=e+"px"})},showHide:function(){var t=document.getElementById("pop").querySelector("img");this.isShow=!1,t.parentNode.removeChild(t)}}};console.log("-------本服务有搜药技术部《皓云轩》工作室提供-------");var I={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"home"}},[o("div",{staticClass:"edit"},[o("order-edit",{attrs:{arthas:{dates:t.dates,colors:t.colors}}})],1),t._v(" "),o("div",{staticClass:"view",attrs:{id:"view"}},[o("top"),t._v(" "),o("order-view",{attrs:{arthas:{dates:t.dates,colors:t.colors}}}),t._v(" "),o("under")],1),t._v(" "),o("button",{staticClass:"save-img",attrs:{title:"单击生成图片"},on:{click:function(e){t.saveImg()}}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"pop-img",attrs:{id:"pop"},on:{click:function(e){t.showHide()}}})])},staticRenderFns:[]};var S=o("VU/8")(k,I,!1,function(t){o("LA1E")},"data-v-b2b126e2",null).exports,T=(o("JnRc"),{name:"Login",data:function(){return{create:!0,createNew:!1,list:[],newTemplateName:"",showDelete:!1}},created:function(){var t=this,e={syncURL:u+"/list"};wilddog.initializeApp(e);var o=wilddog.sync().ref();o.on("value",function(e){if(e.val())t.list=e.val(),o.off();else{var n={syncURL:u};wilddog.initializeApp(n),o.child("list").set([])}})},mounted:function(){},watch:{},methods:{crateTemplate:function(){this.createNew=!0},selectTemplate:function(t){this.$router.push({path:"/home/"+t})},createOk:function(){if(""==this.newTemplateName)this.$Message.info("模板名称不能为空");else{var t={};t[Math.random().toString(36).substr(2)]=this.newTemplateName,this.list.push(t);var e={syncURL:u};wilddog.initializeApp(e);var o=wilddog.sync().ref();o.child("list").set(this.list),o.off()}},deleteTemplate:function(){this.showDelete=!this.showDelete},deleteOk:function(t){var e={syncURL:u};wilddog.initializeApp(e);for(var o=wilddog.sync().ref(),n=wilddog.sync().ref("/"+t),i=this.list,a=[],s=0;s<i.length;s++){var r=i[s];r[t]||a.push(r)}this.list=a,o.child("list").set(this.list),n.remove()}}}),N={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"login"}},[o("Modal",{attrs:{width:"500","mask-closable":!1,closable:!1},model:{value:t.create,callback:function(e){t.create=e},expression:"create"}},[o("p",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("Icon",{attrs:{type:"information-circled"}}),t._v(" "),o("span",[t._v("请选择或创建模板")])],1),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("ul",[t._l(t.list,function(e,n){return o("li",{staticStyle:{"margin-bottom":"10px",position:"relative"}},t._l(e,function(e,n){return o("div",[o("Button",{attrs:{long:""},on:{click:function(e){t.selectTemplate(n)}}},[t._v(t._s(e))]),t._v(" "),o("div",{staticStyle:{position:"absolute",top:"0",right:"0"}},[t.showDelete?o("Button",{attrs:{type:"warning"},on:{click:function(e){t.deleteOk(n)}}},[t._v("删除")]):t._e()],1)],1)}))}),t._v(" "),o("li",{staticStyle:{clear:"both"}})],2)]),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary",size:"large"},on:{click:t.crateTemplate}},[t._v("创建模板")]),t._v(" "),o("Button",{on:{click:t.deleteTemplate}},[t._v("删除模板")])],1)]),t._v(" "),o("Modal",{attrs:{width:"400",closable:!1,"mask-closable":!1},on:{"on-ok":t.createOk},model:{value:t.createNew,callback:function(e){t.createNew=e},expression:"createNew"}},[o("div",{staticStyle:{color:"#2d8cf0","text-align":"center"},attrs:{slot:"header"},slot:"header"},[o("span",[t._v("请输入模板名称")])]),t._v(" "),o("div",{staticStyle:{"text-align":"center"}},[o("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入模板名称..."},model:{value:t.newTemplateName,callback:function(e){t.newTemplateName=e},expression:"newTemplateName"}})],1)])],1)},staticRenderFns:[]};var A=o("VU/8")(T,N,!1,function(t){o("eGIt")},"data-v-0e563518",null).exports;n.default.use(s.a);var L=new s.a({routes:[{path:"/",name:"Login",component:A},{path:"/home/:templateName",name:"Home",component:S}]}),B=o("8+8L"),U=o("BTaQ"),E=o.n(U);o("+skl");n.default.use(m.a);var $=new m.a.Store({state:{},getters:{},mutations:{},actions:{}});n.default.config.productionTip=!1,n.default.use(E.a),n.default.use(B.a),new n.default({el:"#app",router:L,store:$,components:{App:a},template:"<App/>"})},O3Wu:function(t,e){},S26Y:function(t,e){},YuFs:function(t,e,o){t.exports=o.p+"static/img/logo@750x332.b95b838.jpg"},eGIt:function(t,e){},wyIk:function(t,e){var o=function(){var t,e,o=(t=document.createElement("canvas"),{canvas:!!(e=t.getContext("2d")),imageData:!!e.getImageData,dataURL:!!t.toDataURL,btoa:!!window.btoa});function n(t,e,o){var n=t.width,i=t.height;void 0==e&&(e=n),void 0==o&&(o=i);var a=document.createElement("canvas"),s=a.getContext("2d");return a.width=e,a.height=o,s.drawImage(t,0,0,n,i,0,0,e,o),a}function i(t,e,o,i){return(t=n(t,o,i)).toDataURL(e,.5)}function a(t){document.location.href=t}function s(t){var e=document.createElement("img");return e.src=t,e}function r(t){return"image/"+(t=t.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]}function l(t){if(!window.btoa)throw"btoa undefined";var e="";if("string"==typeof t)e=t;else for(var o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return btoa(e)}function c(t){var e=t.width,o=t.height;return t.getContext("2d").getImageData(0,0,e,o)}function d(t,e){return"data:"+e+";base64,"+t}var u=function(t){var e=t.width,o=t.height,n=e*o*3,i=n+54,a=[66,77,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,54,0,0,0],s=[40,0,0,0,255&e,e>>8&255,e>>16&255,e>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,1,0,24,0,0,0,0,0,255&n,n>>8&255,n>>16&255,n>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=(4-3*e%4)%4,c=t.data,d="",u=e<<2,m=o,v=String.fromCharCode;do{for(var f=u*(m-1),h="",p=0;p<e;p++){var g=p<<2;h+=v(c[f+g+2])+v(c[f+g+1])+v(c[f+g])}for(var w=0;w<r;w++)h+=String.fromCharCode(0);d+=h}while(--m);return l(a.concat(s))+l(d)},m=function(t,e,s,l){if(o.canvas&&o.dataURL)if("string"==typeof t&&(t=document.getElementById(t)),void 0==l&&(l="png"),l=r(l),/bmp/.test(l)){var m=c(n(t,e,s));a(d(u(m),"image/octet-stream"))}else{a(i(t,l,e,s).replace(l,"image/octet-stream"))}},v=function(t,e,a,l){if(o.canvas&&o.dataURL){if("string"==typeof t&&(t=document.getElementById(t)),void 0==l&&(l="png"),l=r(l),/bmp/.test(l)){var m=c(n(t,e,a));return s(d(u(m),"image/bmp"))}return s(i(t,l,e,a))}};return{saveAsImage:m,saveAsPNG:function(t,e,o){return m(t,e,o,"png")},saveAsJPEG:function(t,e,o){return m(t,e,o,"jpeg")},saveAsGIF:function(t,e,o){return m(t,e,o,"gif")},saveAsBMP:function(t,e,o){return m(t,e,o,"bmp")},convertToImage:v,convertToPNG:function(t,e,o){return v(t,e,o,"png")},convertToJPEG:function(t,e,o){return v(t,e,o,"jpeg")},convertToGIF:function(t,e,o){return v(t,e,o,"gif")},convertToBMP:function(t,e,o){return v(t,e,o,"bmp")}}}();t.exports=o}},["NHnr"]);
//# sourceMappingURL=app.f16703cb154b4c54f62e.js.map